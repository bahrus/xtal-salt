!function(){const t="disabled";const e="clear-selector";!function(t){let e=t.is;customElements.get(e)?console.warn("Already registered "+e):customElements.define(e,t)}(class extends(function(e){return class extends e{constructor(){super(...arguments),this._evCount={}}static get observedAttributes(){return[t]}get disabled(){return this._disabled}set disabled(e){this.attr(t,e,"")}attr(t,e,s){this[(e?"set":"remove")+"Attribute"](t,s||e)}to$(t){const e=t%2;return(t-e)/2+"-"+e}incAttr(t){const e=this._evCount;t in e?e[t]++:e[t]=0,this.attr("data-"+t,this.to$(e[t]))}attributeChangedCallback(e,s,r){switch(e){case t:this._disabled=null!==r}}de(t,e,s=!1){const r=t+(s?"":"-changed"),i=new CustomEvent(r,{detail:e,bubbles:!0,composed:!1});return this.dispatchEvent(i),this.incAttr(r),i}_upgradeProperties(t){t.forEach(t=>{if(this.hasOwnProperty(t)){let e=this[t];delete this[t],this[t]=e}})}}}(HTMLElement)){constructor(){super(...arguments),this._domParser=new DOMParser,this._clearSelector=null,this._target=null,this._c=!1}static get is(){return"xtal-salt"}static get observedAttributes(){return super.observedAttributes.concat(e)}get xmlString(){return this._xmlString}set xmlString(t){t!==this._xmlString&&(this._xmlString=t,this._xml=this._domParser.parseFromString(t,"application/xml"),this.onPropsChange())}get xml(){return this._xml}set xml(t){if(t===this._xml)return;const e=navigator.userAgent;if(e.indexOf("Firefox")>-1||e.indexOf("Edge")>-1){const e=t.outerHTML;if(e)return void(this.xmlString=e)}this._xml=t,this.onPropsChange()}get xslString(){return this._xslString}set xslString(t){t!==this._xslString&&(this._xslString=t,this._xsl=this._domParser.parseFromString(t,"application/xml"),this.createProcessor())}get clearSelector(){return this._clearSelector}set clearSelector(t){this.attr(e,t)}attributeChangedCallback(t,s,r){switch(t){case e:this._clearSelector=r}}createProcessor(){this._xsltProcessor=new XSLTProcessor,this._xsltProcessor.importStylesheet(this._xsl),this.onPropsChange()}get target(){return this._target}set target(t){this._target=t,this.onPropsChange()}connectedCallback(){this._c=!0,this.style.display="none",this._upgradeProperties([t,"xmlString","xslString","xml"]),this.onPropsChange()}onPropsChange(){if(this._disabled||!this._c||!this._xml||!this._xsltProcessor)return;if(null===this._target&&(this._target=this.parentElement),null===this._target)return;if(this._clearSelector){const t=this._target.querySelector(this._clearSelector);null!==t&&t.remove()}const t=this._xsltProcessor.transformToFragment(this._xml,document);this._target.appendChild(t)}})}();